<h1> Teste api</h1>
<h2>Backend desenvolvido em laravel 10</h2>
<h2>frontend desenvolvido em vueJs</h2>

<ul>
  <li>Empresas
    <ul>
      <li>GET api/empresas </li>
      <li>POST api/empresas </li>
      <li>GET api/empresas/{codigo} </li>
      <li>PUT api/empresas/{codigo} </li>
      <li>DELETE api/empresas/{codigo}</li>
    </ul>
  </li>
  <li>Clientes
    <ul>
      <li>GET api/empresas/{codigoEmpresa}/clientes </li>
      <li>POST api/empresas/{codigoEmpresa}/clientes </li>
      <li>GET api/empresas/{codigoEmpresa}/clientes/{codigoCliente} </li>
      <li>PUT api/empresas/{codigoEmpresa}/clientes/{codigoCliente} </li>
      <li>DELETE api/empresas/{codigoEmpresa}/clientes/{codigoCliente} </li>
    </ul>
  </li>
</ul>

<p>
<h2>GET api/empresas </h2>
<h3>response</h3>
<code>
Status: 200 OK
Content-Type: application/json

{
  "empresas": [
    {
      "codigo": 1,
      "empresa": 123,
      "sigla": "ABC",
      "razao_social": "Empresa ABC",
      "updated_at": "2023-11-23T00:00:00Z",
      "created_at": "2023-11-23T00:00:00Z"
    },
    // ... Outras empresas ...
  ]
}

</code>
</p>
<p>
<h2>POST api/empresas </h2>
<h3>Validações:</h3>
<ul>
  <li>Campo codigo é obrigatório, numérico e único.</li>
  <li>Campo empresa é obrigatório e numérico.</li>
  <li>Campo sigla é obrigatório, string e máximo de 40 caracteres.</li>
  <li>Campo razao_social é obrigatório, string e máximo de 255 caracteres.</li>
</ul>
<h3>request</h3>
<code>
{
  "codigo": 2,
  "empresa": 456,
  "sigla": "XYZ",
  "razao_social": "Empresa XYZ"
}

</code>
<h3>response</h3>
<code>
Status: 201 Created
Content-Type: application/json

{
  "empresa": {
    "codigo": 2,
    "empresa": 456,
    "sigla": "XYZ",
    "razao_social": "Empresa XYZ",
    "updated_at": "2023-11-23T00:00:00Z",
    "created_at": "2023-11-23T00:00:00Z"
  }
}

</code>
</p>

<p>
<h2>GET api/empresas/{codigo} </h2>
<h3>response</h3>
<code>
Status: 200 OK
Content-Type: application/json

{
  "empresa": {
    "codigo": 1,
    "empresa": 123,
    "sigla": "ABC",
    "razao_social": "Empresa ABC",
    "updated_at": "2023-11-23T00:00:00Z",
    "created_at": "2023-11-23T00:00:00Z"
  }
}

</code>
</p>
<p>
<h2>PUT /api/empresas/{codigo}</h2>
<h3>Validações:</h3>
<ul>
  <li>Campo empresa é numérico.</li>
  <li>Campo sigla é string e máximo de 40 caracteres.</li>
  <li>Campo razao_social é string e máximo de 255 caracteres.</li>
</ul>
<h3>request</h3>
<code>
{
  "empresa": 789,
  "sigla": "NEW",
  "razao_social": "Nova Empresa XYZ"
}

</code>
<h3>response</h3>
<code>
Status: 200 OK
Content-Type: application/json

{
  "empresa": {
    "codigo": 1,
    "empresa": 789,
    "sigla": "NEW",
    "razao_social": "Nova Empresa XYZ",
    "updated_at": "2023-11-24T00:00:00Z",
    "created_at": "2023-11-23T00:00:00Z"
  }
}

</code>
</p>
<h2>DELETE /api/empresas/{codigo}</h2>
<h3>response</h3>
<code>
Status: 202 Accepted
Content-Type: application/json

{
  "message": "Empresa excluída com sucesso!"
}

</code>
</p>

<p>
  <h2>GET /api/empresas/{codigoEmpresa}/clientes  </h2>
 
  <h3>response</h3>
  <code>
    Status: 200 OK
Content-Type: application/json

{
  "clientes": [
    {
      "codigo": 1,
      "razao_social": "Cliente 1",
      "tipo": "PJ",
      "cpf_cnpj": "12345678901",
      "updated_at": "2023-11-23T00:00:00Z",
      "created_at": "2023-11-23T00:00:00Z"
    },
    // ... Outros clientes ...
  ]
}

  </code>
</p>

<p>
  <h2>POST /api/empresas/{codigoEmpresa}/clientes
  </h2>
  <h3>Validações:</h3>
  <ul>
    <li>Campo codigo é obrigatório, numérico e único.</li>
    <li> Campo razao_social é obrigatório, string e máximo de 255 caracteres.</li>
    <li>Campo tipo é obrigatório e deve ser "PJ" ou "PF".</li>
    <li>Campo cpf_cnpj é obrigatório, string e máximo de 14 caracteres.</li>
  </ul>
  <h3>request</h3>
  <code>
    {
      "codigo": 2,
      "razao_social": "Cliente 2",
      "tipo": "PF",
      "cpf_cnpj": "98765432101"
    }
    
  </code>
  <h3>response</h3>
  <code>
    Status: 201 Created
Content-Type: application/json

{
  "cliente": {
    "codigo": 2,
    "razao_social": "Cliente 2",
    "tipo": "PF",
    "cpf_cnpj": "98765432101",
    "updated_at": "2023-11-23T00:00:00Z",
    "created_at": "2023-11-23T00:00:00Z"
  }
}

  </code>
</p>

<p>
  <h2>GET /api/empresas/{codigoEmpresa}/clientes/{codigoCliente}  </h2>
  <h3>Validações:</h3>
  <ul>
    <li>Os parâmetros codigoEmpresa e codigoCliente devem ser numéricos.</li>
  </ul>
  
  <h3>response</h3>
  <code>
    Status: 200 OK
Content-Type: application/json

{
  "cliente": {
    "codigo": 1,
    "razao_social": "Cliente 1",
    "tipo": "PJ",
    "cpf_cnpj": "12345678901",
    "updated_at": "2023-11-23T00:00:00Z",
    "created_at": "2023-11-23T00:00:00Z"
  }
}

  </code>
</p>

<p>
  <h2>PUT /api/empresas/{codigoEmpresa}/clientes/{codigoCliente}  </h2>
  <h3>Validações:</h3>
  <ul>
    <li>Campo razao_social é string e máximo de 255 caracteres.</li>
    <li> Campo tipo deve ser "PJ" ou "PF".</li>
  </ul>
  <h3>request</h3>
  <code>{
    "razao_social": "Cliente Atualizado",
    "tipo": "PJ"
  }
  </code>
  <h3>response</h3>
  <code>
    Status: 200 OK
Content-Type: application/json

{
  "cliente": {
    "codigo": 1,
    "razao_social": "Cliente Atualizado",
    "tipo": "PJ",
    "cpf_cnpj": "12345678901",
    "updated_at": "2023-11-24T00:00:00Z",
    "created_at": "2023-11-23T00:00:00Z"
  }
}

  </code>
</p>

<p>
  <h2>DELETE /api/empresas/{codigoEmpresa}/clientes/{codigoCliente}  </h2>
 
  <h3>response</h3>
  <code>Status: 202 Accepted
    Content-Type: application/json
    
    {
      "message": "Cliente excluído com sucesso!"
    }
    </code>
</p>

<p><b>Erros de validacoes retonam codigo 422</b></p>
<p><b>Outros erros retornam codigo 500</b></p>
